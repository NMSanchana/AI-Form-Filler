{"ast":null,"code":"var _jsxFileName = \"/Users/Sanchana/aiintel/frontend/src/Extract.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { uploadDocuments } from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Extract({\n  docs,\n  onNext,\n  onBack\n}) {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    extract();\n  }, []);\n  const extract = async () => {\n    try {\n      setLoading(true);\n      const result = await uploadDocuments(docs.files, docs.documentType);\n      if (result.success) {\n        setData(result.extractedData);\n      } else {\n        setError('Failed to extract data from documents');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError('Error: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uD83D\\uDD0D Extracting data from your documents...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: [\"\\u26A0\\uFE0F \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: onBack,\n          children: \"\\u2190 Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: extract,\n          children: \"\\uD83D\\uDD04 Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  }\n  const labels = {\n    name: 'Full Name',\n    fatherName: \"Father's Name\",\n    dateOfBirth: 'Date of Birth',\n    address: 'Address',\n    city: 'City',\n    state: 'State',\n    pincode: 'Pincode',\n    phone: 'Phone Number',\n    email: 'Email Address',\n    idNumber: 'ID Number',\n    gender: 'Gender'\n  };\n  const filledCount = Object.values(data || {}).filter(v => v && v.trim()).length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u2705 Data Extracted Successfully\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Review the information extracted from your documents\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), filledCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success\",\n      children: [\"\\uD83C\\uDF89 Successfully extracted \", filledCount, \" out of \", Object.keys(labels).length, \" fields\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-preview\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCCB Personal Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), Object.entries(data || {}).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"data-field\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"field-label\",\n          children: labels[key] || key\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"field-value\",\n          style: {\n            color: value ? '#1f2937' : '#9ca3af'\n          },\n          children: value || 'Not found'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: onBack,\n        children: \"\\u2190 Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => onNext(data),\n        children: \"Continue to Select Form \\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(Extract, \"3ZzU/bpgnt1jKXqVMjKABjGi/lY=\");\n_c = Extract;\nvar _c;\n$RefreshReg$(_c, \"Extract\");","map":{"version":3,"names":["React","useState","useEffect","uploadDocuments","jsxDEV","_jsxDEV","Extract","docs","onNext","onBack","_s","loading","setLoading","data","setData","error","setError","extract","result","files","documentType","success","extractedData","err","_err$response","_err$response$data","response","detail","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","labels","name","fatherName","dateOfBirth","address","city","state","pincode","phone","email","idNumber","gender","filledCount","Object","values","filter","v","trim","length","keys","entries","map","key","value","style","color","_c","$RefreshReg$"],"sources":["/Users/Sanchana/aiintel/frontend/src/Extract.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { uploadDocuments } from './api';\n\nexport default function Extract({ docs, onNext, onBack }) {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    extract();\n  }, []);\n\n  const extract = async () => {\n    try {\n      setLoading(true);\n      const result = await uploadDocuments(docs.files, docs.documentType);\n      if (result.success) {\n        setData(result.extractedData);\n      } else {\n        setError('Failed to extract data from documents');\n      }\n    } catch (err) {\n      setError('Error: ' + (err.response?.data?.detail || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container\">\n        <div className=\"loading\">\n          <div className=\"spinner\"></div>\n          <p>üîç Extracting data from your documents...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container\">\n        <div className=\"error\">‚ö†Ô∏è {error}</div>\n        <div className=\"buttons\">\n          <button className=\"btn btn-secondary\" onClick={onBack}>‚Üê Back</button>\n          <button className=\"btn btn-primary\" onClick={extract}>üîÑ Retry</button>\n        </div>\n      </div>\n    );\n  }\n\n  const labels = {\n    name: 'Full Name',\n    fatherName: \"Father's Name\",\n    dateOfBirth: 'Date of Birth',\n    address: 'Address',\n    city: 'City',\n    state: 'State',\n    pincode: 'Pincode',\n    phone: 'Phone Number',\n    email: 'Email Address',\n    idNumber: 'ID Number',\n    gender: 'Gender'\n  };\n\n  const filledCount = Object.values(data || {}).filter(v => v && v.trim()).length;\n\n  return (\n    <div className=\"container\">\n      <h2>‚úÖ Data Extracted Successfully</h2>\n      <p>Review the information extracted from your documents</p>\n\n      {filledCount > 0 && (\n        <div className=\"success\">\n          üéâ Successfully extracted {filledCount} out of {Object.keys(labels).length} fields\n        </div>\n      )}\n\n      <div className=\"data-preview\">\n        <h3>üìã Personal Information</h3>\n        {Object.entries(data || {}).map(([key, value]) => (\n          <div key={key} className=\"data-field\">\n            <span className=\"field-label\">{labels[key] || key}</span>\n            <span className=\"field-value\" style={{color: value ? '#1f2937' : '#9ca3af'}}>\n              {value || 'Not found'}\n            </span>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"buttons\">\n        <button className=\"btn btn-secondary\" onClick={onBack}>‚Üê Back</button>\n        <button className=\"btn btn-primary\" onClick={() => onNext(data)}>\n          Continue to Select Form ‚Üí\n        </button>\n      </div>\n    </div>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,eAAe,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,eAAe,SAASC,OAAOA,CAAC;EAAEC,IAAI;EAAEC,MAAM;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EACxD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACde,OAAO,CAAC,CAAC;EACX,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACFL,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMM,MAAM,GAAG,MAAMf,eAAe,CAACI,IAAI,CAACY,KAAK,EAAEZ,IAAI,CAACa,YAAY,CAAC;MACnE,IAAIF,MAAM,CAACG,OAAO,EAAE;QAClBP,OAAO,CAACI,MAAM,CAACI,aAAa,CAAC;MAC/B,CAAC,MAAM;QACLN,QAAQ,CAAC,uCAAuC,CAAC;MACnD;IACF,CAAC,CAAC,OAAOO,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZT,QAAQ,CAAC,SAAS,IAAI,EAAAQ,aAAA,GAAAD,GAAG,CAACG,QAAQ,cAAAF,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcX,IAAI,cAAAY,kBAAA,uBAAlBA,kBAAA,CAAoBE,MAAM,KAAIJ,GAAG,CAACK,OAAO,CAAC,CAAC;IACnE,CAAC,SAAS;MACRhB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,IAAID,OAAO,EAAE;IACX,oBACEN,OAAA;MAAKwB,SAAS,EAAC,WAAW;MAAAC,QAAA,eACxBzB,OAAA;QAAKwB,SAAS,EAAC,SAAS;QAAAC,QAAA,gBACtBzB,OAAA;UAAKwB,SAAS,EAAC;QAAS;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC/B7B,OAAA;UAAAyB,QAAA,EAAG;QAAyC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAInB,KAAK,EAAE;IACT,oBACEV,OAAA;MAAKwB,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxBzB,OAAA;QAAKwB,SAAS,EAAC,OAAO;QAAAC,QAAA,GAAC,eAAG,EAACf,KAAK;MAAA;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACvC7B,OAAA;QAAKwB,SAAS,EAAC,SAAS;QAAAC,QAAA,gBACtBzB,OAAA;UAAQwB,SAAS,EAAC,mBAAmB;UAACM,OAAO,EAAE1B,MAAO;UAAAqB,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACtE7B,OAAA;UAAQwB,SAAS,EAAC,iBAAiB;UAACM,OAAO,EAAElB,OAAQ;UAAAa,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,MAAME,MAAM,GAAG;IACbC,IAAI,EAAE,WAAW;IACjBC,UAAU,EAAE,eAAe;IAC3BC,WAAW,EAAE,eAAe;IAC5BC,OAAO,EAAE,SAAS;IAClBC,IAAI,EAAE,MAAM;IACZC,KAAK,EAAE,OAAO;IACdC,OAAO,EAAE,SAAS;IAClBC,KAAK,EAAE,cAAc;IACrBC,KAAK,EAAE,eAAe;IACtBC,QAAQ,EAAE,WAAW;IACrBC,MAAM,EAAE;EACV,CAAC;EAED,MAAMC,WAAW,GAAGC,MAAM,CAACC,MAAM,CAACrC,IAAI,IAAI,CAAC,CAAC,CAAC,CAACsC,MAAM,CAACC,CAAC,IAAIA,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,MAAM;EAE/E,oBACEjD,OAAA;IAAKwB,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxBzB,OAAA;MAAAyB,QAAA,EAAI;IAA6B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACtC7B,OAAA;MAAAyB,QAAA,EAAG;IAAoD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EAE1Dc,WAAW,GAAG,CAAC,iBACd3C,OAAA;MAAKwB,SAAS,EAAC,SAAS;MAAAC,QAAA,GAAC,sCACG,EAACkB,WAAW,EAAC,UAAQ,EAACC,MAAM,CAACM,IAAI,CAACnB,MAAM,CAAC,CAACkB,MAAM,EAAC,SAC7E;IAAA;MAAAvB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN,eAED7B,OAAA;MAAKwB,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3BzB,OAAA;QAAAyB,QAAA,EAAI;MAAuB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC/Be,MAAM,CAACO,OAAO,CAAC3C,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC4C,GAAG,CAAC,CAAC,CAACC,GAAG,EAAEC,KAAK,CAAC,kBAC3CtD,OAAA;QAAewB,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACnCzB,OAAA;UAAMwB,SAAS,EAAC,aAAa;UAAAC,QAAA,EAAEM,MAAM,CAACsB,GAAG,CAAC,IAAIA;QAAG;UAAA3B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACzD7B,OAAA;UAAMwB,SAAS,EAAC,aAAa;UAAC+B,KAAK,EAAE;YAACC,KAAK,EAAEF,KAAK,GAAG,SAAS,GAAG;UAAS,CAAE;UAAA7B,QAAA,EACzE6B,KAAK,IAAI;QAAW;UAAA5B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB,CAAC;MAAA,GAJCwB,GAAG;QAAA3B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAKR,CACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAEN7B,OAAA;MAAKwB,SAAS,EAAC,SAAS;MAAAC,QAAA,gBACtBzB,OAAA;QAAQwB,SAAS,EAAC,mBAAmB;QAACM,OAAO,EAAE1B,MAAO;QAAAqB,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACtE7B,OAAA;QAAQwB,SAAS,EAAC,iBAAiB;QAACM,OAAO,EAAEA,CAAA,KAAM3B,MAAM,CAACK,IAAI,CAAE;QAAAiB,QAAA,EAAC;MAEjE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACxB,EAAA,CA/FuBJ,OAAO;AAAAwD,EAAA,GAAPxD,OAAO;AAAA,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}